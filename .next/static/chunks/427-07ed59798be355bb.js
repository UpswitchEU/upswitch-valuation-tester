"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[427],{30690:function(e,t,n){n.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n(78030).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},6427:function(e,t,n){n.d(t,{w:function(){return p}});var a=n(57437),s=n(78030);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s.Z)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),r=(0,s.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),l=(0,s.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),o=(0,s.Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var c=n(30690);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,s.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var u=n(2265);let p=e=>{let{user:t,onLogout:n}=e,[s,p]=(0,u.useState)(!1),x=(0,u.useRef)(null),m=(0,u.useRef)(null),[h,y]=(0,u.useState)({top:0,right:0});(0,u.useEffect)(()=>{if(s&&m.current){let e=m.current.getBoundingClientRect();y({top:e.bottom+8,right:window.innerWidth-e.right})}},[s]),(0,u.useEffect)(()=>{let e=e=>{x.current&&!x.current.contains(e.target)&&p(!1)};return s&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[s]),(0,u.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s&&p(!1)};return s&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[s]);let w=()=>{if(!(null==t?void 0:t.name))return"?";let e=t.name.split(" ");return e.length>=2?"".concat(e[0][0]).concat(e[1][0]).toUpperCase():t.name.substring(0,2).toUpperCase()},v=(null==t?void 0:t.avatar_url)||(null==t?void 0:t.avatar),f=!!v,g=async()=>{p(!1),await n()},b=[{key:"create-account",icon:o,label:"Create Account",action:()=>{p(!1),window.parent&&window.parent!==window?window.parent.postMessage({type:"OPEN_SIGNUP"},"*"):window.open("https://upswitch.biz/signup","_blank")}},{key:"divider-1",isDivider:!0},{key:"learn-more",icon:c.Z,label:"Learn More",action:()=>{p(!1),window.parent&&window.parent!==window?window.parent.postMessage({type:"NAVIGATE_TO_VALUATION"},"*"):window.open("https://upswitch.biz/valuation","_blank")}}],k=t?[{key:"back-to-dashboard",icon:i,label:"Back to Dashboard",action:()=>{p(!1),window.parent&&window.parent!==window?window.parent.postMessage({type:"NAVIGATE_TO_DASHBOARD"},"*"):window.open("https://upswitch.biz/my-business","_blank")}},{key:"account-settings",icon:r,label:"Account Settings",action:()=>{p(!1),window.parent&&window.parent!==window?window.parent.postMessage({type:"NAVIGATE_TO_SETTINGS"},"*"):window.open("https://upswitch.biz/users/profile","_blank")}},{key:"divider-1",isDivider:!0},{key:"logout",icon:l,label:"Log Out",action:g}]:b;return(0,a.jsxs)("div",{ref:x,className:"relative",style:{zIndex:100},children:[(0,a.jsx)("button",{ref:m,onClick:()=>{p(e=>!e)},className:"flex items-center justify-center w-10 h-10 sm:w-8 sm:h-8 rounded-full bg-gray-200 text-gray-700 text-sm font-medium hover:bg-gray-300 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2","aria-label":t?"".concat(t.name||t.email," - Account Menu"):"Guest - Account Menu","aria-expanded":s,"aria-haspopup":"true",style:{position:"relative",zIndex:101},children:t?(0,a.jsxs)(a.Fragment,{children:[f?(0,a.jsx)("img",{src:v||"",alt:(null==t?void 0:t.name)||"User",className:"w-full h-full rounded-full object-cover",loading:"lazy",onError:e=>{var t;e.currentTarget.style.display="none",null===(t=e.currentTarget.nextElementSibling)||void 0===t||t.classList.remove("hidden")}}):null,(0,a.jsx)("span",{className:f?"hidden":"block",children:w()})]}):(0,a.jsx)(d,{className:"w-4 h-4 text-gray-600"})}),s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-[9998]",onClick:()=>p(!1),"aria-hidden":"true"}),(0,a.jsxs)("div",{className:"fixed w-56 bg-zinc-900 rounded-lg shadow-lg border border-zinc-800 py-2 z-[9999]",style:{top:"".concat(h.top,"px"),right:"".concat(h.right,"px")},children:[(0,a.jsx)("div",{className:"px-4 py-3 border-b border-zinc-800",children:t?(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"w-8 h-8 bg-zinc-700 rounded-full flex items-center justify-center flex-shrink-0",children:[f?(0,a.jsx)("img",{src:v||"",alt:(null==t?void 0:t.name)||"User",className:"w-full h-full rounded-full object-cover",loading:"lazy",onError:e=>{var t;e.currentTarget.style.display="none",null===(t=e.currentTarget.nextElementSibling)||void 0===t||t.classList.remove("hidden")}}):null,(0,a.jsx)("span",{className:f?"hidden":"block text-white text-sm font-medium",children:w()})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-white truncate",children:t.name||"User"}),(0,a.jsx)("div",{className:"text-xs text-zinc-400 truncate",children:t.email})]})]}):(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-white",children:"Welcome, Guest"}),(0,a.jsx)("p",{className:"text-xs text-zinc-400",children:"Sign in to access your dashboard"})]})}),(0,a.jsx)("div",{className:"py-2",children:k.map((e,t)=>{if(e.isDivider)return(0,a.jsx)("div",{className:"h-px bg-zinc-800 my-1",role:"separator"},t);let n=e.icon,s=0===t,i=t===k.length-1,r="logout"===e.key;return(0,a.jsxs)("button",{onClick:t=>{var n;t.preventDefault(),t.stopPropagation(),null===(n=e.action)||void 0===n||n.call(e)},className:"\n                      w-full flex items-center gap-3 px-4 py-4 sm:py-3 text-base sm:text-sm font-medium text-left border-0 bg-transparent\n                      transition-colors duration-150\n                      ".concat(s?"rounded-t-xl":"","\n                      ").concat(i?"rounded-b-xl":"","\n                      ").concat(r?"hover:bg-red-900/20 text-red-400 hover:text-red-300":"hover:bg-zinc-800/50 text-zinc-300 hover:text-white","\n                    "),role:"menuitem",tabIndex:0,children:[n&&(0,a.jsx)(n,{className:"w-5 h-5 sm:w-4 sm:h-4 flex-shrink-0 ".concat(r?"text-red-400":"text-zinc-400")}),(0,a.jsx)("span",{className:"flex-1",children:e.label})]},t)})})]})]})]})}}}]);