"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[985],{9985:function(e,t,r){r.r(t),r.d(t,{BUSINESS_DATA_FIELDS:function(){return s},ConversationalFieldRenderer:function(){return c},DataCollection:function(){return C},FIELD_QUESTIONS:function(){return a},FieldRenderer:function(){return _},FileUploadFieldRenderer:function(){return h},FuzzySearchFieldRenderer:function(){return b},ManualFormFieldRenderer:function(){return g},SuggestionFieldRenderer:function(){return j}});let s={company_name:{id:"company_name",label:"Company Name",description:"The legal name of your business",type:"text",required:!0,validation:[{type:"required",message:"Company name is required",severity:"error"},{type:"custom",value:e=>e.length>=2&&e.length<=100,message:"Company name must be between 2 and 100 characters",severity:"error"}],placeholder:"Enter your company name",suggestions:["TechCorp Inc.","Green Energy Solutions","Consulting Partners","Manufacturing Ltd"],priority:1,collectionMethods:["manual_form","conversational","suggestion"]},country_code:{id:"country_code",label:"Country",description:"Where is your business headquartered?",type:"select",required:!0,options:[{value:"BE",label:"Belgium"},{value:"NL",label:"Netherlands"},{value:"DE",label:"Germany"},{value:"FR",label:"France"},{value:"US",label:"United States"},{value:"GB",label:"United Kingdom"}],priority:2,collectionMethods:["manual_form","conversational","suggestion"]},industry:{id:"industry",label:"Industry",description:"What industry does your business operate in?",type:"select",required:!0,options:[{value:"technology",label:"Technology"},{value:"manufacturing",label:"Manufacturing"},{value:"retail",label:"Retail"},{value:"services",label:"Services"},{value:"healthcare",label:"Healthcare"},{value:"finance",label:"Finance"}],priority:3,collectionMethods:["manual_form","conversational","fuzzy_search","suggestion"]},business_model:{id:"business_model",label:"Business Model",description:"How does your business generate revenue?",type:"select",required:!0,dependsOn:["industry"],options:[{value:"b2b_saas",label:"B2B SaaS"},{value:"b2c",label:"B2C"},{value:"marketplace",label:"Marketplace"},{value:"ecommerce",label:"E-commerce"},{value:"manufacturing",label:"Manufacturing"},{value:"services",label:"Services"}],priority:4,collectionMethods:["manual_form","conversational","suggestion"]},founding_year:{id:"founding_year",label:"Founding Year",description:"When was your business founded?",type:"number",required:!0,validation:[{type:"min",value:1900,message:"Founding year must be after 1900",severity:"error"},{type:"max",value:new Date().getFullYear(),message:"Founding year cannot be in the future",severity:"error"}],placeholder:"e.g., 2020",priority:5,collectionMethods:["manual_form","conversational"]},current_year_data:{id:"current_year_data",label:"Current Year Financials",group:"financial",type:"currency",required:!0,priority:6,collectionMethods:["manual_form","conversational"]},revenue:{id:"revenue",label:"Annual Revenue",description:"Total revenue for the most recent complete year",group:"financial",type:"currency",required:!1,validation:[{type:"min",value:0,message:"Revenue cannot be negative",severity:"error"},{type:"max",value:1e9,message:"Please contact us for valuations over €1B",severity:"warning"}],placeholder:"€500,000",suggestions:["Under €100K","€100K - €500K","€500K - €1M","€1M - €5M","Over €5M"],priority:7,collectionMethods:["manual_form","conversational","suggestion"]},ebitda:{id:"ebitda",label:"EBITDA",description:"Earnings Before Interest, Taxes, Depreciation, and Amortization",group:"financial",type:"currency",required:!1,placeholder:"€150,000",priority:8,collectionMethods:["manual_form","conversational"]},number_of_employees:{id:"number_of_employees",label:"Number of Employees",description:"Total full-time equivalent employees",type:"number",required:!1,validation:[{type:"min",value:0,message:"Employee count cannot be negative",severity:"error"},{type:"max",value:1e4,message:"For companies with 10,000+ employees, please contact us",severity:"warning"}],placeholder:"25",suggestions:["1-5","6-20","21-50","51-100","100+"],priority:9,collectionMethods:["manual_form","conversational","suggestion"]}},a={company_name:{id:"q_company_name",fieldId:"company_name",question:"What is the name of your business?",examples:["TechCorp Inc.","Green Energy Solutions","Global Manufacturing Ltd"],suggestions:["SaaS Company","Consulting Firm","E-commerce Store"]},revenue:{id:"q_revenue",fieldId:"revenue",question:"What was your annual revenue for the most recent year?",context:"This helps us understand your business size and growth potential.",examples:["€500,000","\xa32.3 million","$1.2M"],suggestions:["Under €100K","€100K - €500K","€500K - €1M","€1M - €5M","Over €5M"]},number_of_employees:{id:"q_employees",fieldId:"number_of_employees",question:"How many employees does your business have?",context:"This includes full-time, part-time, and contract workers.",suggestions:["1-5","6-20","21-50","51-100","100+"]}};var n=r(57437),l=r(2265),i=r(68954),o=r(99687);let c=e=>{var t;let{field:r,value:s,onChange:a,errors:c=[],context:u,disabled:m=!1}=e,[p,x]=(0,l.useState)(!1),h=c.length>0,v=e=>{a(e,"conversational")},f=function(e){switch(e.id){case"company_name":return"What's the name of your business?";case"revenue":return"What's your annual revenue for the most recent year?";case"ebitda":return"What's your EBITDA (Earnings Before Interest, Taxes, Depreciation, and Amortization)?";case"number_of_employees":return"How many employees does your business have?";case"industry":return"What industry is your business in?";case"country_code":return"Where is your business headquartered?";default:return"What's your ".concat(e.label.toLowerCase(),"?")}}(r),b=function(e){switch(e.id){case"company_name":return["TechCorp Inc.","Green Energy Solutions"];case"revenue":return["€500,000","\xa32.3 million","$1.2M"];case"number_of_employees":return["25","5-10 team"];default:return[]}}(r),g=r.suggestions||[];return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:(0,n.jsx)(i.Z,{className:"w-4 h-4 text-white"})}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("h3",{className:"text-sm font-medium text-white",children:"Valuation Assistant"}),(0,n.jsxs)("p",{className:"text-xs text-zinc-400",children:["Asking for ",r.label.toLowerCase()]})]}),r.description&&(0,n.jsx)("button",{onClick:()=>x(!p),className:"text-zinc-400 hover:text-zinc-300",children:(0,n.jsx)(o.Z,{className:"w-4 h-4"})})]}),(0,n.jsxs)("div",{className:"bg-zinc-800/50 rounded-lg p-4 border border-zinc-700/50",children:[(0,n.jsx)("p",{className:"text-white text-sm leading-relaxed",children:f}),p&&r.description&&(0,n.jsx)("div",{className:"mt-3 pt-3 border-t border-zinc-600/50",children:(0,n.jsxs)("p",{className:"text-xs text-zinc-400",children:["\uD83D\uDCA1 ",r.description]})}),b.length>0&&(0,n.jsxs)("div",{className:"mt-3",children:[(0,n.jsx)("p",{className:"text-xs text-zinc-500 mb-2",children:"Examples:"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-1",children:b.slice(0,3).map((e,t)=>(0,n.jsx)("button",{onClick:()=>v(d(e,r)),disabled:m,className:"px-2 py-1 bg-zinc-700/50 hover:bg-zinc-600/50 text-xs text-zinc-300 rounded border border-zinc-600/50 hover:border-zinc-500/50 transition-colors",children:e},t))})]})]}),g.length>0&&(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("p",{className:"text-xs text-zinc-500",children:"Quick suggestions:"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:g.map((e,t)=>(0,n.jsx)("button",{onClick:()=>v(d(e,r)),disabled:m,className:"px-3 py-2 bg-primary-600/20 hover:bg-primary-600/30 text-sm text-primary-300 rounded-lg border border-primary-600/30 hover:border-primary-600/50 transition-colors",children:e},t))})]}),h&&(0,n.jsx)("div",{className:"bg-red-900/20 border border-red-700/50 rounded-lg p-3",children:(0,n.jsx)("p",{className:"text-sm text-red-400",children:null===(t=c.find(e=>"error"===e.severity))||void 0===t?void 0:t.message})})]})};function d(e,t){switch(t.type){case"currency":{let t;let r=e.replace(/[€£$]/g,"").replace(/,/g,"").trim();if(r.includes("million")||r.includes("M")){let s=parseFloat(r.replace(/million|M/g,""));if(isNaN(s))return e;t=1e6*s}else if(r.includes("K")){let s=parseFloat(r.replace("K",""));if(isNaN(s))return e;t=1e3*s}else if(isNaN(t=parseFloat(r)))return e;return t}case"number":{if(e.includes("-")){let t=e.split("-").map(e=>parseInt(e.trim(),10));if(t.some(isNaN))return e;let[r,s]=t;return Math.round((r+s)/2)}let t=parseInt(e,10);return isNaN(t)?e:t}case"boolean":{let t=e.toLowerCase().trim();if("yes"===t||"true"===t||"1"===t)return!0;if("no"===t||"false"===t||"0"===t)return!1;return e}default:return e}}var u=r(58184),m=r(22023),p=r(92940),x=r(76780);let h=e=>{var t;let{field:r,value:s,onChange:a,errors:i=[],disabled:o=!1}=e,[c,d]=(0,l.useState)(!1),[h,v]=(0,l.useState)(null),[f,b]=(0,l.useState)(!1),[g,y]=(0,l.useState)(null),N=(0,l.useRef)(null);i.length;let j=null===(t=i.find(e=>"error"===e.severity))||void 0===t?void 0:t.message,w=function(e){switch(e.type){case"currency":case"number":return[".xlsx",".xls",".csv",".pdf"];case"text":case"textarea":return[".pdf",".docx",".doc",".txt"];default:return[".pdf",".xlsx",".xls",".csv"]}}(r),z=e=>{var t;let r=[];e.size>10485760&&r.push("File size must be less than 10MB");let s="."+(null===(t=e.name.split(".").pop())||void 0===t?void 0:t.toLowerCase());return w.includes(s)||r.push("File type not supported. Supported formats: ".concat(w.join(", "))),{valid:0===r.length,errors:r}},_=async e=>{b(!0),y(null);try{await new Promise(e=>setTimeout(e,2e3));let t="revenue"===r.id?5e5:"ebitda"===r.id?15e4:"number_of_employees"===r.id?25:"Extracted from ".concat(e.name);a(t,"file_upload"),y(null)}catch(e){y(e instanceof Error?e.message:"File processing failed")}finally{b(!1)}},C=async e=>{let t=z(e);if(!t.valid){y(t.errors.join(", "));return}v(e),y(null),await _(e)},F=()=>{v(null),y(null),a(void 0,"file_upload"),N.current&&(N.current.value="")};return(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(u.Z,{className:"w-4 h-4 text-primary-400"}),(0,n.jsxs)("label",{className:"text-sm font-medium text-white",children:[r.label,r.required&&(0,n.jsx)("span",{className:"text-red-400 ml-1",children:"*"})]})]}),r.description&&(0,n.jsx)("p",{className:"text-xs text-zinc-400",children:r.description}),!h&&(0,n.jsxs)("div",{onDrop:e=>{e.preventDefault(),d(!1);let t=Array.from(e.dataTransfer.files);t.length>0&&C(t[0])},onDragOver:e=>{e.preventDefault(),d(!0)},onDragLeave:()=>{d(!1)},className:"\n            relative border-2 border-dashed rounded-lg p-6 text-center transition-colors cursor-pointer\n            ".concat(c?"border-primary-400 bg-primary-600/10":"border-zinc-600 hover:border-zinc-500","\n            ").concat(o?"opacity-50 cursor-not-allowed":"","\n          "),onClick:()=>{var e;return!o&&(null===(e=N.current)||void 0===e?void 0:e.click())},children:[(0,n.jsx)("input",{ref:N,type:"file",onChange:e=>{let t=e.target.files;t&&t.length>0&&C(t[0])},accept:w.join(","),disabled:o,className:"hidden"}),(0,n.jsx)(m.Z,{className:"w-8 h-8 text-zinc-400 mx-auto mb-2"}),(0,n.jsx)("p",{className:"text-sm text-zinc-300 mb-1",children:"Drop your file here or click to browse"}),(0,n.jsxs)("p",{className:"text-xs text-zinc-500",children:["Supported formats: ",w.join(", ")," (max"," ",Math.round(10),"MB)"]})]}),h&&f&&(0,n.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-zinc-800/50 rounded-lg border border-zinc-600/50",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary-500"}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{className:"text-sm text-white",children:["Processing ",h.name,"..."]}),(0,n.jsxs)("p",{className:"text-xs text-zinc-400",children:["Extracting ",r.label.toLowerCase()," from document"]})]})]}),h&&!f&&!g&&void 0!==s&&(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 bg-green-900/20 rounded-lg border border-green-700/50",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)(p.Z,{className:"w-5 h-5 text-green-400"}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{className:"text-sm text-white",children:["Successfully processed ",h.name]}),(0,n.jsxs)("p",{className:"text-xs text-zinc-400",children:["Extracted: ",(0,n.jsx)("span",{className:"text-green-300",children:"number"==typeof s?"currency"===r.type?new Intl.NumberFormat("en-US",{style:"currency",currency:"EUR"}).format(s):s.toLocaleString():String(s)})]})]})]}),(0,n.jsx)("button",{onClick:F,className:"text-zinc-400 hover:text-zinc-300 text-sm",disabled:o,children:"Remove"})]}),g&&(0,n.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-red-900/20 rounded-lg border border-red-700/50",children:[(0,n.jsx)(x.Z,{className:"w-5 h-5 text-red-400"}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("p",{className:"text-sm text-red-400",children:"Processing failed"}),(0,n.jsx)("p",{className:"text-xs text-zinc-400",children:g})]}),(0,n.jsx)("button",{onClick:F,className:"text-zinc-400 hover:text-zinc-300 text-sm",disabled:o,children:"Try again"})]}),r.id&&(0,n.jsxs)("div",{className:"bg-zinc-800/30 rounded-lg p-3 border border-zinc-700/30",children:[(0,n.jsx)("p",{className:"text-xs font-medium text-zinc-300 mb-2",children:"\uD83D\uDCA1 What to look for in your file:"}),(0,n.jsx)("ul",{className:"text-xs text-zinc-400 space-y-1",children:(function(e){switch(e.id){case"revenue":return['Look for "Revenue", "Sales", "Turnover" in financial statements',"Check income statements or P&L sections","Annual figures are preferred over monthly"];case"ebitda":return['Look for "EBITDA", "Operating Profit", "Earnings Before Interest..."',"Check income statements","Exclude extraordinary items if possible"];case"number_of_employees":return['Look for "Number of Employees", "Headcount", "Staff Count"',"Check company overview or HR sections","Full-time equivalents (FTE) preferred"];default:return['Look for "'.concat(e.label,'" in the document'),"Check tables, headers, and key sections","Use the most recent or relevant figures"]}})(r).map((e,t)=>(0,n.jsxs)("li",{children:["• ",e]},t))})]}),j&&(0,n.jsx)("p",{className:"text-sm text-red-400",children:j})]})};var v=r(54817),f=r(22468);let b=e=>{var t;let{field:r,value:s,onChange:a,errors:i=[],disabled:o=!1}=e,[c,d]=(0,l.useState)(""),[u,m]=(0,l.useState)(!1);i.length;let p=null===(t=i.find(e=>"error"===e.severity))||void 0===t?void 0:t.message,x=(0,l.useMemo)(()=>{if(!c.trim()||!r.options)return[];let e=c.toLowerCase(),t=[];for(let s of r.options){let r=s.label.toLowerCase(),a=s.value.toLowerCase(),n=0;if(r===e||a===e)n=100;else if(r.startsWith(e)||a.startsWith(e))n=80;else if(r.includes(e)||a.includes(e))n=60;else{let t=e.split(""),s=0;for(let e of t)(r.includes(e)||a.includes(e))&&s++;n=s/t.length*40}n>20&&t.push({option:s,score:n})}return t.sort((e,t)=>t.score-e.score).slice(0,8)},[c,r.options]),h=e=>{a(e,"fuzzy_search"),d(""),m(!1)};return(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-white",children:[r.label,r.required&&(0,n.jsx)("span",{className:"text-red-400 ml-1",children:"*"})]}),r.description&&(0,n.jsx)("p",{className:"text-xs text-zinc-400",children:r.description}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(v.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-zinc-400"}),(0,n.jsx)("input",{type:"text",value:c,onChange:e=>{d(e.target.value),m(!0)},onFocus:()=>m(!0),placeholder:"Search ".concat(r.label.toLowerCase(),"..."),disabled:o,className:"w-full pl-10 pr-4 py-2 bg-zinc-800 border border-zinc-600 rounded-lg text-white placeholder-zinc-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),s&&(0,n.jsxs)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center space-x-2",children:[(0,n.jsx)("span",{className:"text-xs text-zinc-400 bg-zinc-700 px-2 py-1 rounded",children:(()=>{if(!s||!r.options)return"";let e=r.options.find(e=>e.value===s);return e?e.label:s})()}),(0,n.jsx)(f.Z,{className:"w-4 h-4 text-green-400"})]})]}),u&&c.trim()&&x.length>0&&(0,n.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-zinc-800 border border-zinc-600 rounded-lg shadow-lg max-h-64 overflow-y-auto",children:x.map(e=>{let{option:t}=e;return(0,n.jsx)("button",{onClick:()=>h(t.value),disabled:o,className:"w-full px-4 py-3 text-left hover:bg-zinc-700 focus:bg-zinc-700 focus:outline-none transition-colors border-b border-zinc-700/50 last:border-b-0",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-white font-medium",children:t.label}),t.description&&(0,n.jsx)("div",{className:"text-xs text-zinc-400 mt-1",children:t.description})]}),s===t.value&&(0,n.jsx)(f.Z,{className:"w-4 h-4 text-primary-400"})]})},t.value)})}),u&&c.trim()&&0===x.length&&(0,n.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-zinc-800 border border-zinc-600 rounded-lg shadow-lg p-4 text-center",children:[(0,n.jsxs)("p",{className:"text-zinc-400 text-sm",children:['No matches found for "',c,'"']}),(0,n.jsxs)("button",{onClick:()=>h(c),className:"mt-2 px-3 py-1 bg-primary-600 text-white text-xs rounded hover:bg-primary-700 transition-colors",children:['Use "',c,'" anyway']})]})]}),!c.trim()&&r.options&&r.options.length>0&&(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("p",{className:"text-xs text-zinc-500",children:"Popular options:"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:r.options.slice(0,6).map(e=>(0,n.jsx)("button",{onClick:()=>h(e.value),disabled:o,className:"px-3 py-1 bg-zinc-800/50 hover:bg-zinc-700/50 text-sm text-zinc-300 rounded-lg border border-zinc-600/50 hover:border-zinc-500/50 transition-colors",children:e.label},e.value))})]}),p&&(0,n.jsx)("p",{className:"text-sm text-red-400",children:p})]})},g=e=>{var t;let{field:r,value:s,onChange:a,errors:l=[],disabled:i=!1,autoFocus:o=!1}=e,c=l.length>0,d=null===(t=l.find(e=>"error"===e.severity))||void 0===t?void 0:t.message;return(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-white",children:[r.label,r.required&&(0,n.jsx)("span",{className:"text-red-400 ml-1",children:"*"})]}),r.description&&(0,n.jsx)("p",{className:"text-sm text-zinc-400",children:r.description}),(0,n.jsx)(y,{field:r,value:null!=s?s:"",onChange:e=>{a(e,"manual_form")},disabled:i,autoFocus:o,hasErrors:c}),d&&(0,n.jsx)("p",{className:"text-sm text-red-400",children:d})]})},y=e=>{var t,r,s,a,l;let{field:i,value:o,onChange:c,disabled:d=!1,autoFocus:u=!1,hasErrors:m=!1}=e,p="\n    w-full px-3 py-2 bg-zinc-800 border rounded-lg text-white placeholder-zinc-400\n    focus:outline-none focus:ring-2 focus:ring-primary-500\n    ".concat(m?"border-red-500":"border-zinc-600","\n    ").concat(d?"opacity-50 cursor-not-allowed":"","\n  ");switch(i.type){case"text":case"textarea":{let e="string"==typeof o?o:String(o||"");if("textarea"===i.type)return(0,n.jsx)("textarea",{value:e,onChange:e=>c(e.target.value),placeholder:i.placeholder,disabled:d,autoFocus:u,rows:4,className:p});return(0,n.jsx)("input",{type:"text",value:e,onChange:e=>c(e.target.value),placeholder:i.placeholder,disabled:d,autoFocus:u,className:p})}case"number":case"currency":{let e="number"==typeof o?o:o?Number(o):"";return(0,n.jsx)("input",{type:"number",value:e,onChange:e=>c("currency"===i.type?parseFloat(e.target.value)||0:parseInt(e.target.value)||0),placeholder:i.placeholder,disabled:d,autoFocus:u,min:null===(r=i.validation)||void 0===r?void 0:null===(t=r.find(e=>"min"===e.type))||void 0===t?void 0:t.value,max:null===(a=i.validation)||void 0===a?void 0:null===(s=a.find(e=>"max"===e.type))||void 0===s?void 0:s.value,className:p})}case"select":{let e="string"==typeof o?o:String(o||"");return(0,n.jsxs)("select",{value:e,onChange:e=>c(e.target.value),disabled:d,autoFocus:u,className:p,children:[(0,n.jsx)("option",{value:"",children:i.placeholder||"Select ".concat(i.label)}),null===(l=i.options)||void 0===l?void 0:l.map(e=>(0,n.jsx)("option",{value:e.value,children:e.label},e.value))]})}case"boolean":return(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("input",{type:"checkbox",checked:!!o,onChange:e=>c(e.target.checked),disabled:d,autoFocus:u,className:"w-4 h-4 text-primary-600 bg-zinc-800 border-zinc-600 rounded focus:ring-primary-500"}),(0,n.jsx)("span",{className:"text-sm text-zinc-300",children:"Yes"})]});case"percentage":{let e="number"==typeof o?100*o:o?Number(o):"";return(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("input",{type:"number",value:e,onChange:e=>c((parseFloat(e.target.value)||0)/100),placeholder:i.placeholder,disabled:d,autoFocus:u,min:"0",max:"100",className:p}),(0,n.jsx)("span",{className:"absolute right-3 top-2 text-zinc-400",children:"%"})]})}default:{let e="string"==typeof o?o:String(o||"");return(0,n.jsx)("input",{type:"text",value:e,onChange:e=>c(e.target.value),placeholder:i.placeholder,disabled:d,autoFocus:u,className:p})}}};var N=r(33907);let j=e=>{var t;let{field:r,value:s,onChange:a,errors:l=[],disabled:i=!1}=e;l.length;let o=null===(t=l.find(e=>"error"===e.severity))||void 0===t?void 0:t.message,c=r.suggestions||[];return 0===c.length?(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-white",children:[r.label,r.required&&(0,n.jsx)("span",{className:"text-red-400 ml-1",children:"*"})]}),(0,n.jsx)("input",{type:"text",value:"string"==typeof s?s:"",onChange:e=>a(e.target.value,"suggestion"),placeholder:r.placeholder,disabled:i,className:"w-full px-3 py-2 bg-zinc-800 border border-zinc-600 rounded-lg text-white placeholder-zinc-400 focus:outline-none focus:ring-2 focus:ring-primary-500"}),o&&(0,n.jsx)("p",{className:"text-sm text-red-400",children:o})]}):(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(N.Z,{className:"w-4 h-4 text-primary-400"}),(0,n.jsxs)("label",{className:"text-sm font-medium text-white",children:[r.label,r.required&&(0,n.jsx)("span",{className:"text-red-400 ml-1",children:"*"})]})]}),r.description&&(0,n.jsx)("p",{className:"text-xs text-zinc-400",children:r.description}),(0,n.jsx)("div",{className:"grid grid-cols-2 gap-2",children:c.map((e,t)=>(0,n.jsx)("button",{onClick:()=>a(w(e,r),"suggestion"),disabled:i,className:"\n              px-3 py-2 text-left rounded-lg border transition-all duration-200 text-sm\n              ".concat(s===w(e,r)?"bg-primary-600 border-primary-500 text-white shadow-lg":"bg-zinc-800/50 border-zinc-600/50 text-zinc-300 hover:bg-zinc-700/50 hover:border-zinc-500/50","\n              ").concat(i?"opacity-50 cursor-not-allowed":"cursor-pointer","\n            "),children:e},t))}),(0,n.jsx)("div",{className:"relative",children:(0,n.jsx)("input",{type:"text",value:"string"!=typeof s||c.includes(s)?"":s,onChange:e=>a(e.target.value,"suggestion"),placeholder:"Or enter custom ".concat(r.label.toLowerCase(),"..."),disabled:i,className:"w-full px-3 py-2 bg-zinc-800/50 border border-zinc-600/50 rounded-lg text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500/50 text-sm"})}),o&&(0,n.jsx)("p",{className:"text-sm text-red-400",children:o})]})};function w(e,t){switch(t.type){case"number":{if(e.includes("-")){let t=e.split("-").map(e=>e.trim()),r=t.map(e=>parseInt(e,10));if(2===t.length&&r.every(e=>!isNaN(e))){let[e,t]=r;return Math.round((e+t)/2)}}let t=parseInt(e.replace(/\D/g,""),10);return isNaN(t)?e:t}case"currency":{if(e.includes("-")){let t=e.split("-").map(e=>e.trim());if(2===t.length){let e=z(t[0]),r=z(t[1]);if(null!==e&&null!==r)return Math.round((e+r)/2)}}let t=z(e);return null!==t?t:e}case"boolean":{let t=e.toLowerCase().trim();if("yes"===t||"true"===t||"1"===t)return!0;if("no"===t||"false"===t||"0"===t)return!1;return e}default:return e}}function z(e){let t=e.replace(/[€£$]/g,"").trim(),r=1,s=t;t.includes("K")?(r=1e3,s=t.replace("K","")):t.includes("M")&&(r=1e6,s=t.replace("M",""));let a=parseFloat(s.replace(/,/g,""));return isNaN(a)?null:a*r}let _=e=>{let{context:t}=e,r=(e=>{switch(e){case"manual_form":default:return g;case"conversational":return c;case"suggestion":return j;case"fuzzy_search":return b;case"file_upload":return h}})(t.method);return(0,n.jsx)(r,{...e})},C=e=>{let{method:t="manual_form",onDataCollected:r,onProgressUpdate:a,onComplete:i,initialData:o={},disabled:c=!1,className:d=""}=e,[u,m]=(0,l.useState)(()=>{let e=new Map;return Object.entries(o).forEach(t=>{let[r,s]=t;if(null!=s){let t={fieldId:r,value:s,method:"manual_form",confidence:.8,source:"initial_data",timestamp:new Date};e.set(r,t)}}),e}),p=(0,l.useCallback)((e,t)=>{let n={fieldId:e,value:t,method:"manual_form",confidence:1,source:"user_input",timestamp:new Date};m(t=>{let r=new Map(t);return r.set(e,n),r});let l=Array.from(u.values());l.push(n),null==r||r(l);let o=Object.values(s),c=l.length,d=o.length;null==a||a({overallProgress:c/d,completedFields:c,totalFields:d});let p=o.filter(e=>e.required);p.filter(e=>l.some(t=>t.fieldId===e.id&&void 0!==t.value&&""!==t.value)).length===p.length&&(null==i||i(l))},[u,r,a,i]),x=Object.values(s),h=u.size,v=x.length;return(0,n.jsxs)("div",{className:"space-y-6 ".concat(d),children:[(0,n.jsxs)("div",{className:"bg-zinc-800/50 rounded-lg p-4 border border-zinc-700/50",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,n.jsx)("h3",{className:"text-sm font-medium text-white",children:"Complete the Form"}),(0,n.jsxs)("span",{className:"text-xs text-zinc-400",children:[h,"/",v," fields"]})]}),(0,n.jsx)("div",{className:"w-full bg-zinc-700 rounded-full h-2",children:(0,n.jsx)("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(h/v*100,"%")}})})]}),(0,n.jsx)("div",{className:"space-y-4",children:x.map(e=>{var t;return(0,n.jsx)(_,{field:e,value:null===(t=u.get(e.id))||void 0===t?void 0:t.value,onChange:t=>p(e.id,t),errors:[],context:{session:{id:"manual-form-session",fields:[],responses:new Map,completedFieldIds:new Set,method:"manual_form",startedAt:new Date,lastActivity:new Date,isComplete:!1,validationErrors:new Map},previousResponses:Array.from(u.values()),method:"manual_form"},disabled:c},e.id)})})]})}}}]);