"use strict";exports.id=371,exports.ids=[371],exports.modules={18371:(t,e,a)=>{a.r(e),a.d(e,{ValuationInfoPanel:()=>i});var n=a(10326),l=a(17577),r=a(81524),s=a(33741);let i=({result:t})=>((0,l.useEffect)(()=>{t.info_tab_html&&t.info_tab_html.length>0?s.Sc.info("ValuationInfoPanel: Using server-generated HTML",{component:"ValuationInfoPanel",valuationId:t.valuation_id,htmlLength:t.info_tab_html?.length||0,renderingMode:"server-html"}):s.Sc.error("ValuationInfoPanel: info_tab_html not available",{component:"ValuationInfoPanel",valuationId:t.valuation_id,hasInfoTabHtml:!!t.info_tab_html,infoTabHtmlLength:t.info_tab_html?.length||0,renderingMode:"error",reason:t.info_tab_html?"HTML too short":"HTML not present"})},[t.info_tab_html,t.valuation_id]),t.info_tab_html&&t.info_tab_html.length>0)?n.jsx("div",{className:"h-full overflow-y-auto info-tab-html px-4 sm:px-6 lg:px-8",dangerouslySetInnerHTML:{__html:r.C.sanitize(t.info_tab_html)}}):n.jsx("div",{className:"h-full flex flex-col items-center justify-center p-8",children:(0,n.jsxs)("div",{className:"text-center max-w-md",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Info Tab Not Available"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"The calculation breakdown is not available. This may indicate an issue with the valuation response."}),(0,n.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,n.jsxs)("p",{children:["Valuation ID: ",t.valuation_id||"N/A"]}),(0,n.jsxs)("p",{children:["Info Tab HTML: ",t.info_tab_html?"Present but empty":"Not present"]})]})]})})},81524:(t,e,a)=>{a.d(e,{C:()=>l});var n=a(41092);a(33741);class l{static extractCSS(t){let e;let a=/<style(?:\s+[^>]*)?>([\s\S]*?)<\/style>/gi,n="",l=t;for(;null!==(e=a.exec(t));)n+=e[1]+"\n",l=l.replace(e[0],"");return{css:n.trim(),html:l}}static sanitize(t){let e;if(!t||"string"!=typeof t)return"";let a="",l=t,r=!1;try{let e=this.extractCSS(t);a=e.css,l=e.html,r=a.length>0}catch(e){l=t,r=!1}try{e=n.default.sanitize(l,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","div","span","strong","em","b","i","u","ul","ol","li","br","hr","table","thead","tbody","tr","th","td","a","img","blockquote","pre","code","section","article","header","footer","style"],ALLOWED_ATTR:["class","id","style","href","src","alt","title","colspan","rowspan","align","valign","type","media"],ALLOW_DATA_ATTR:!0,ALLOW_UNKNOWN_PROTOCOLS:!1,FORCE_BODY:!0,KEEP_CONTENT:!0})}catch(t){return""}return"string"!=typeof e?"":r&&a.length>0&&!(e.includes("<style>")||e.includes("<style "))?`<style>${a}</style>${e}`:e}static process(t){if(!t)return"";let e=this.sanitize(t);return this.processLinks(e)}static processLinks(t){return t.replace(/<a\s+href=/g,'<a target="_blank" rel="noopener noreferrer" href=')}static extractSections(t){if(!t||"string"!=typeof t)return[];try{let e=new DOMParser().parseFromString(t,"text/html").querySelectorAll("h2, h3, h4");return Array.from(e).map((t,e)=>({id:`section-${e}`,title:t.textContent||"",level:parseInt(t.tagName.charAt(1),10)||2}))}catch(t){return[]}}static isSafe(t){return!t||this.sanitize(t)===t}}}};