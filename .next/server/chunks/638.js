"use strict";exports.id=638,exports.ids=[638],exports.modules={18019:(e,t,a)=>{a.d(t,{Z:()=>n});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(62881).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},70118:(e,t,a)=>{a.d(t,{w:()=>h});var n=a(10326),s=a(62881);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),i=(0,s.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),l=(0,s.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),o=(0,s.Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var c=a(18019);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,s.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var u=a(17577);let h=({user:e,onLogout:t})=>{let[a,s]=(0,u.useState)(!1),h=(0,u.useRef)(null),m=(0,u.useRef)(null),[x,p]=(0,u.useState)({top:0,right:0});(0,u.useEffect)(()=>{if(a&&m.current){let e=m.current.getBoundingClientRect();p({top:e.bottom+8,right:window.innerWidth-e.right})}},[a]),(0,u.useEffect)(()=>{let e=e=>{h.current&&!h.current.contains(e.target)&&s(!1)};return a&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[a]),(0,u.useEffect)(()=>{let e=e=>{"Escape"===e.key&&a&&s(!1)};return a&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[a]);let g=()=>{if(!e?.name)return"?";let t=e.name.split(" ");return t.length>=2?`${t[0][0]}${t[1][0]}`.toUpperCase():e.name.substring(0,2).toUpperCase()},v=e?.avatar_url||e?.avatar,w=!!v,y=async()=>{s(!1),await t()},b=[{key:"create-account",icon:o,label:"Create Account",action:()=>{s(!1),window.parent&&window.parent!==window?window.parent.postMessage({type:"OPEN_SIGNUP"},"*"):window.open("https://upswitch.biz/signup","_blank")}},{key:"divider-1",isDivider:!0},{key:"learn-more",icon:c.Z,label:"Learn More",action:()=>{s(!1),window.parent&&window.parent!==window?window.parent.postMessage({type:"NAVIGATE_TO_VALUATION"},"*"):window.open("https://upswitch.biz/valuation","_blank")}}],f=e?[{key:"back-to-dashboard",icon:r,label:"Back to Dashboard",action:()=>{s(!1),window.parent&&window.parent!==window?window.parent.postMessage({type:"NAVIGATE_TO_DASHBOARD"},"*"):window.open("https://upswitch.biz/my-business","_blank")}},{key:"account-settings",icon:i,label:"Account Settings",action:()=>{s(!1),window.parent&&window.parent!==window?window.parent.postMessage({type:"NAVIGATE_TO_SETTINGS"},"*"):window.open("https://upswitch.biz/users/profile","_blank")}},{key:"divider-1",isDivider:!0},{key:"logout",icon:l,label:"Log Out",action:y}]:b;return(0,n.jsxs)("div",{ref:h,className:"relative",style:{zIndex:100},children:[n.jsx("button",{ref:m,onClick:()=>{s(e=>!e)},className:"flex items-center justify-center w-10 h-10 sm:w-8 sm:h-8 rounded-full bg-gray-200 text-gray-700 text-sm font-medium hover:bg-gray-300 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2","aria-label":e?`${e.name||e.email} - Account Menu`:"Guest - Account Menu","aria-expanded":a,"aria-haspopup":"true",style:{position:"relative",zIndex:101},children:e?(0,n.jsxs)(n.Fragment,{children:[w?n.jsx("img",{src:v||"",alt:e?.name||"User",className:"w-full h-full rounded-full object-cover",loading:"lazy",onError:e=>{e.currentTarget.style.display="none",e.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,n.jsx("span",{className:w?"hidden":"block",children:g()})]}):n.jsx(d,{className:"w-4 h-4 text-gray-600"})}),a&&(0,n.jsxs)(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-[9998]",onClick:()=>s(!1),"aria-hidden":"true"}),(0,n.jsxs)("div",{className:"fixed w-56 bg-zinc-900 rounded-lg shadow-lg border border-zinc-800 py-2 z-[9999]",style:{top:`${x.top}px`,right:`${x.right}px`},children:[n.jsx("div",{className:"px-4 py-3 border-b border-zinc-800",children:e?(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsxs)("div",{className:"w-8 h-8 bg-zinc-700 rounded-full flex items-center justify-center flex-shrink-0",children:[w?n.jsx("img",{src:v||"",alt:e?.name||"User",className:"w-full h-full rounded-full object-cover",loading:"lazy",onError:e=>{e.currentTarget.style.display="none",e.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,n.jsx("span",{className:w?"hidden":"block text-white text-sm font-medium",children:g()})]}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"text-sm font-medium text-white truncate",children:e.name||"User"}),n.jsx("div",{className:"text-xs text-zinc-400 truncate",children:e.email})]})]}):(0,n.jsxs)("div",{className:"flex flex-col",children:[n.jsx("p",{className:"text-sm font-medium text-white",children:"Welcome, Guest"}),n.jsx("p",{className:"text-xs text-zinc-400",children:"Sign in to access your dashboard"})]})}),n.jsx("div",{className:"py-2",children:f.map((e,t)=>{if(e.isDivider)return n.jsx("div",{className:"h-px bg-zinc-800 my-1",role:"separator"},t);let a=e.icon,s=0===t,r=t===f.length-1,i="logout"===e.key;return(0,n.jsxs)("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),e.action?.()},className:`
                      w-full flex items-center gap-3 px-4 py-4 sm:py-3 text-base sm:text-sm font-medium text-left border-0 bg-transparent
                      transition-colors duration-150
                      ${s?"rounded-t-xl":""}
                      ${r?"rounded-b-xl":""}
                      ${i?"hover:bg-red-900/20 text-red-400 hover:text-red-300":"hover:bg-zinc-800/50 text-zinc-300 hover:text-white"}
                    `,role:"menuitem",tabIndex:0,children:[a&&n.jsx(a,{className:`w-5 h-5 sm:w-4 sm:h-4 flex-shrink-0 ${i?"text-red-400":"text-zinc-400"}`}),n.jsx("span",{className:"flex-1",children:e.label})]},t)})})]})]})]})}},49638:(e,t,a)=>{a.r(t),a.d(t,{ValuationToolbar:()=>k});var n=a(10326),s=a(77506),r=a(62881);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,r.Z)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]),l=(0,r.Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),o=(0,r.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),c=(0,r.Z)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);var d=a(18019);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,r.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),h=(0,r.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),m=(0,r.Z)("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);var x=a(17577),p=a(97810),g=a(31989),v=a(33741);class w{static{this.GUEST_REPORT_COUNT_KEY="upswitch_guest_report_count"}static getNextGuestReportNumber(){try{let e=localStorage.getItem(this.GUEST_REPORT_COUNT_KEY),t=(e?parseInt(e,10):0)+1;return localStorage.setItem(this.GUEST_REPORT_COUNT_KEY,t.toString()),t}catch(e){return console.warn("Failed to access localStorage for report count:",e),1}}static generateValuationName(e){if(!localStorage.getItem("upswitch_user_id")&&!localStorage.getItem("upswitch_auth_token")){let e=this.getNextGuestReportNumber();return`Valuation Report #${e}`}let t=0,a=e||Date.now().toString();for(let e=0;e<a.length;e++)t+=a.charCodeAt(e)*(e+1);let n=t%900+100;return`Valuation Report #${n}`}static generateFromCompany(e){if(!e)return this.generateValuationName();let t=e.trim().split(" ").slice(0,2).join(" ").substring(0,20),a=0;for(let t=0;t<e.length;t++)a+=e.charCodeAt(t)*(t+1);let n=a%900+100;return`${t} Valuation #${n}`}static generateWithDate(e){let t=new Date,a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],n=t.getDate();return e?`${e} ${a}-${n}`:`Valuation Report ${a}-${n}`}}/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let y=(0,r.Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var b=a(60962);let f=({isOpen:e,onClose:t,onConfirm:a,targetFlow:s,currentFlow:r})=>{if(!e)return null;let i={manual:"Manual Entry",conversational:"AI-Guided"},l="conversational"===s?"Conversational":"Manual",o=r?i[r]:null,c=(0,n.jsxs)("div",{className:"fixed inset-0 z-50",children:[n.jsx("div",{className:"absolute inset-0 bg-black/65",onClick:t,"aria-hidden":"false"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4","aria-hidden":"false","aria-modal":"true",role:"dialog",children:(0,n.jsxs)("div",{className:"bg-zinc-800 rounded-2xl shadow-2xl border border-zinc-700 max-w-md w-full",onClick:e=>e.stopPropagation(),children:[n.jsx("div",{className:"px-6 py-5 border-b border-zinc-700",children:(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-primary-500/10 flex items-center justify-center",children:n.jsx(y,{className:"w-5 h-5 text-primary-500"})}),(0,n.jsxs)("h2",{className:"text-xl font-semibold text-white",children:["Switch to ",l," Flow?"]})]})}),(0,n.jsxs)("div",{className:"px-6 py-5 space-y-3",children:[n.jsx("p",{className:"text-zinc-300 leading-relaxed",children:o?(0,n.jsxs)(n.Fragment,{children:["Switch from ",n.jsx("span",{className:"font-semibold text-white",children:o})," to"," ",n.jsx("span",{className:"font-semibold text-white",children:i[s]}),"?"]}):(0,n.jsxs)(n.Fragment,{children:["Switch to the ",l.toLowerCase()," flow?"]})}),n.jsx("p",{className:"text-zinc-400 text-sm leading-relaxed",children:"Your entered data will be preserved. You can switch between flows at any time without losing your progress."})]}),(0,n.jsxs)("div",{className:"px-6 py-4 bg-zinc-900/50 rounded-b-2xl flex items-center justify-end gap-3",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-zinc-300 hover:text-white transition-colors",children:"Cancel"}),n.jsx("button",{onClick:a,className:"px-4 py-2 text-sm font-medium bg-accent-600 hover:bg-accent-500 text-white rounded-lg transition-colors",children:"Switch Flow"})]})]})})]});return"undefined"!=typeof document&&document.body?(0,b.createPortal)(c,document.body):c};var j=a(70118);let N=({content:e,children:t,position:a="top",delay:s=300,className:r="cursor-help border-b border-dotted border-gray-400"})=>{let[i,l]=(0,x.useState)(!1),[o,c]=(0,x.useState)(!1),[d,u]=(0,x.useState)(null),h=(0,x.useRef)(null),m=(0,x.useRef)(null);return(0,x.useEffect)(()=>{c("ontouchstart"in window)},[]),(0,x.useEffect)(()=>{if(!o||!i)return;let e=e=>{h.current&&!h.current.contains(e.target)&&m.current&&!m.current.contains(e.target)&&l(!1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[o,i]),(0,x.useEffect)(()=>()=>{d&&clearTimeout(d)},[d]),(0,n.jsxs)("div",{className:"relative inline-block",children:[n.jsx("div",{ref:m,role:"tooltip","aria-label":e,onClick:e=>{o&&(e.preventDefault(),e.stopPropagation(),l(!i))},onMouseEnter:o?void 0:()=>{o||u(setTimeout(()=>l(!0),s))},onMouseLeave:o?void 0:()=>{d&&(clearTimeout(d),u(null)),l(!1)},onFocus:()=>l(!0),onBlur:()=>l(!1),tabIndex:0,className:r,children:t}),i&&(0,n.jsxs)("div",{ref:h,className:`absolute z-50 px-3 py-2 text-sm text-white bg-gray-900 
            rounded-lg shadow-lg whitespace-nowrap transition-opacity duration-200
            ${"top"===a?"bottom-full mb-2 left-1/2 -translate-x-1/2":""}
            ${"bottom"===a?"top-full mt-2 left-1/2 -translate-x-1/2":""}
          `,children:[e,n.jsx("div",{className:`absolute w-2 h-2 bg-gray-900 rotate-45
            ${"top"===a?"bottom-[-4px] left-1/2 -translate-x-1/2":""}
            ${"bottom"===a?"top-[-4px] left-1/2 -translate-x-1/2":""}
          `})]})]})},k=({onRefresh:e,onDownload:t,onFullScreen:a,isGenerating:r=!1,user:y,valuationName:b="Valuation test123",activeTab:k="preview",onTabChange:z,companyName:C})=>{let{refreshAuth:E}=(0,p.a)(),{session:M,switchView:_,pendingFlowSwitch:S,setPendingFlowSwitch:T,isSyncing:V}=(0,g.L)(),[$,L]=(0,x.useState)(!1);(0,x.useEffect)(()=>{S?L(!0):L(!1)},[S]);let A=async e=>{if(!M||M.currentView===e)return;let t=await _(e,!1,!1);t?.needsConfirmation&&L(!0)},I=async()=>{S&&(await _(S,!1,!0),L(!1),T(null))},[R,Z]=(0,x.useState)(!1),[D,O]=(0,x.useState)(b),[F,U]=(0,x.useState)(()=>C?w.generateFromCompany(C):w.generateValuationName()),P=(0,x.useRef)(null);(0,x.useEffect)(()=>{R&&P.current&&(P.current.focus(),P.current.select())},[R]),(0,x.useEffect)(()=>{R||O(F)},[F,R]);let G=()=>{Z(!0)},H=async()=>{if(!D.trim()){O(b),Z(!1);return}U(D.trim()),Z(!1);try{v.a.info("Valuation name saved",{name:D.trim()})}catch(e){v.a.error("Failed to save valuation name",{error:e})}},q=()=>{O(b),Z(!1)},B=e=>{z?.(e)},K=async()=>{try{v.a.info("Logging out user");let e=(void 0).VITE_BACKEND_URL||(void 0).VITE_API_BASE_URL||"https://web-production-8d00b.up.railway.app",t=await fetch(`${e}/api/auth/logout`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});t.ok?v.a.info("Logout successful"):v.a.warn("Logout request failed",{status:t.status}),await E()}catch(e){v.a.error("Logout failed",{error:e}),await E()}};return(0,n.jsxs)(n.Fragment,{children:[n.jsx("nav",{className:"relative min-h-12 w-full shrink-0 flex items-center gap-2 px-4 py-2 border-b border-zinc-800/50 bg-zinc-950/50 backdrop-blur-sm overflow-visible",children:n.jsx("div",{className:"relative max-w-full gap-1 flex w-full shrink-0 items-center",children:n.jsx("div",{className:"w-full overflow-visible whitespace-nowrap scrollbar-hide",children:(0,n.jsxs)("div",{className:"relative flex w-full flex-shrink-0 items-center justify-between",children:[n.jsx("div",{className:"flex flex-shrink-0 items-center gap-2",style:{width:"23%"},children:(0,n.jsxs)("div",{className:"relative flex items-center gap-2 group",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-white",children:[r?n.jsx(s.Z,{className:"w-4 h-4 animate-spin text-white"}):n.jsx("div",{className:"w-4 h-4 rounded bg-gradient-to-br from-harvest-500 to-harvest-600 animate-pulse shadow-[0_0_8px_rgba(217,165,88,0.5)]"}),R?n.jsx("input",{ref:P,type:"text",value:D,onChange:e=>O(e.target.value),onBlur:H,onKeyDown:e=>{"Enter"===e.key?H():"Escape"===e.key&&q()},className:"bg-transparent border-none outline-none focus:outline-none focus:ring-0 focus:border-none text-transparent bg-clip-text bg-gradient-to-r from-harvest-400 to-harvest-500 font-semibold text-sm",style:{minWidth:"120px"}}):n.jsx("button",{onClick:G,className:"hidden md:block font-semibold text-transparent bg-clip-text bg-gradient-to-r from-harvest-400 to-harvest-500 hover:from-harvest-300 hover:to-harvest-400 transition-all duration-200 cursor-pointer hover:scale-105 drop-shadow-[0_1px_3px_rgba(217,165,88,0.4)]",title:"Click to edit valuation name",children:F}),n.jsx("button",{onClick:G,className:"md:hidden text-xs text-harvest-400 font-bold hover:text-harvest-300 transition-colors cursor-pointer",title:"Click to edit valuation name",children:"Valuation"})]}),n.jsx("div",{className:"hidden md:block text-xs text-zinc-500 opacity-0 group-hover:opacity-100 transition-opacity",children:"✏️"})]})}),(0,n.jsxs)("div",{className:"absolute left-1/2 transform -translate-x-1/2 flex items-center gap-1",children:[n.jsx(N,{content:"Manual Input",position:"bottom",className:"",children:n.jsx("button",{onClick:()=>A("manual"),disabled:M?.currentView==="manual"||V,className:`p-2 rounded-lg transition-all duration-200 ${M?.currentView==="manual"?"bg-zinc-700 text-white":"text-gray-400 hover:text-gray-300 hover:bg-zinc-800"} ${V?"opacity-50 cursor-not-allowed":""}`,children:V&&M?.currentView!=="manual"?n.jsx(s.Z,{className:"w-4 h-4 animate-spin"}):n.jsx(i,{className:"w-4 h-4"})})}),n.jsx(N,{content:"Conversational Mode",position:"bottom",className:"",children:n.jsx("button",{onClick:()=>A("conversational"),disabled:M?.currentView==="conversational"||V,className:`p-2 rounded-lg transition-all duration-200 ${M?.currentView==="conversational"?"bg-zinc-700 text-white":"text-gray-400 hover:text-gray-300 hover:bg-zinc-800"} ${V?"opacity-50 cursor-not-allowed":""}`,children:V&&M?.currentView!=="conversational"?n.jsx(s.Z,{className:"w-4 h-4 animate-spin"}):n.jsx(l,{className:"w-4 h-4"})})}),n.jsx("div",{className:"mx-2 h-6 w-px bg-zinc-700"}),n.jsx(N,{content:"Preview",position:"bottom",className:"",children:n.jsx("button",{onClick:()=>B("preview"),className:`p-2 rounded-lg transition-all duration-200 ${"preview"===k?"bg-zinc-700 text-white":"text-gray-400 hover:text-gray-300 hover:bg-zinc-800"}`,children:n.jsx(o,{className:"w-4 h-4"})})}),n.jsx(N,{content:"Source Code",position:"bottom",className:"",children:n.jsx("button",{onClick:()=>B("source"),className:`p-2 rounded-lg transition-all duration-200 ${"source"===k?"bg-zinc-700 text-white":"text-gray-400 hover:text-gray-300 hover:bg-zinc-800"}`,children:n.jsx(c,{className:"w-4 h-4"})})}),n.jsx(N,{content:"Valuation Info",position:"bottom",className:"",children:n.jsx("button",{onClick:()=>B("info"),className:`p-2 rounded-lg transition-all duration-200 ${"info"===k?"bg-zinc-700 text-white":"text-gray-400 hover:text-gray-300 hover:bg-zinc-800"}`,children:n.jsx(d.Z,{className:"w-4 h-4"})})}),n.jsx("div",{className:"mx-2 h-6 w-px bg-zinc-700"}),n.jsx(N,{content:"Refresh",position:"bottom",className:"",children:n.jsx("button",{onClick:e,className:"p-2 rounded-lg transition-all duration-200 text-gray-400 hover:text-gray-300 hover:bg-zinc-800",disabled:r,children:n.jsx(u,{className:"w-4 h-4"})})}),n.jsx(N,{content:"Download PDF",position:"bottom",className:"",children:n.jsx("button",{onClick:t,className:"p-2 rounded-lg transition-all duration-200 text-gray-400 hover:text-gray-300 hover:bg-zinc-800",children:n.jsx(h,{className:"w-4 h-4"})})}),n.jsx(N,{content:"Open Full Screen",position:"bottom",className:"",children:n.jsx("button",{onClick:a,className:"p-2 rounded-lg transition-all duration-200 text-gray-400 hover:text-gray-300 hover:bg-zinc-800",children:n.jsx(m,{className:"w-4 h-4"})})})]}),n.jsx("div",{className:"flex items-center gap-1.5",children:n.jsx("div",{className:"flex items-center gap-3",children:n.jsx(j.w,{user:y,onLogout:K})})})]})})})}),n.jsx(f,{isOpen:$,currentFlow:M?.currentView||"manual",targetFlow:S||"manual",onConfirm:I,onClose:()=>{L(!1),T(null)}})]})}}};